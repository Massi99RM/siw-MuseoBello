<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Lista Artisti</title>
    <link rel="stylesheet" th:href="@{/css/stile.css}">
</head>
<body>

<header class="site-header">
    <!-- NAV SINISTRA -->
    <div class="nav-left">
        <nav class="main-nav">
            <ul>
                <li><a th:href="@{/home}">Home</a></li>
                <li><a th:href="@{/artists}">Artisti in Esposizione</a></li>
                <li><a th:href="@{/rooms}">Visualizza Sale</a></li>
                <li sec:authorize="hasRole('ADMIN')">
                    <a th:href="@{/admin/manageArtworks}">Gestisci Museo</a>
                </li>
            </ul>
        </nav>
    </div>

    <!-- NAV DESTRA -->
    <div class="nav-right">
        <a th:href="@{/login}">Logout</a>
    </div>
</header>

<main class="content-wrapper">
    <h1 class="page-title">Lista degli Artisti</h1>
    
    <div class="artists-container" th:if="${artists}">
		<div class="artist-card" th:each="artist : ${artists}">
		    <div class="artist-header">
		        <img th:src="${artist.imageUrl}" th:alt="${artist.name}" class="artist-photo">
		        <div class="artist-info">
		            <h3 th:text="${artist.name}">Nome Artista</h3>
		            <p th:text="${artist.biography}">Biografia</p>
		        </div>
		    </div>
		    
		    <div th:if="${artist.artworks != null and !artist.artworks.isEmpty()}">
		        <h4>Opere:</h4>
		        <ul>
		            <li th:each="artwork : ${artist.artworks}">
		                <strong th:text="${artwork.title}">Titolo Opera</strong> 
		                (<span th:text="${artwork.year}">Anno</span>)
		                <p th:text="${artwork.description}">Descrizione Opera</p>
		            </li>
		        </ul>
		    </div>
		</div>
    </div>
    
    <p th:unless="${artists}">Nessun artista presente nel database.</p>
</main>

</body>
</html>
